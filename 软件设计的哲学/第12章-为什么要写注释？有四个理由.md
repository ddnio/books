# ç¬¬12ç« ï¼šä¸ºä»€ä¹ˆè¦å†™æ³¨é‡Šï¼Ÿæœ‰å››ä¸ªç†ç”± - ç ´è§£ç¨‹åºå‘˜æœ€å¤§çš„è‡ªæ¬ºæ¬ºäºº

## ğŸ­ ä¸€ä¸ªè®©æ‰€æœ‰ç¨‹åºå‘˜éƒ½æ·±æœ‰æ„Ÿè§¦çš„åœºæ™¯

å‘¨ä¸€æ—©ä¸Šï¼Œä½ æ»¡æ€€ä¿¡å¿ƒåœ°æ‰“å¼€6ä¸ªæœˆå‰è‡ªå·±å†™çš„ä»£ç ï¼Œå‡†å¤‡æ·»åŠ ä¸€ä¸ª"ç®€å•"çš„åŠŸèƒ½ã€‚ç„¶å...

```java
// ğŸ˜± è¿™æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿæˆ‘6ä¸ªæœˆå‰å†™çš„ä»£ç ï¼Ÿ
public class DataProcessor {
    private Map<String, List<Map<String, Object>>> processingCache;
    private volatile boolean flag = false;
    
    public void processData(List<Object> input) {
        if (!flag) {
            // ä¸ºä»€ä¹ˆè¦æ£€æŸ¥è¿™ä¸ªflagï¼Ÿ
            return;
        }
        
        // è¿™ä¸ªé­”æ³•æ•°å­—23æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ
        for (int i = 0; i < input.size(); i += 23) {
            // è¿™ä¸ªå¤æ‚çš„é€»è¾‘æ˜¯åœ¨åšä»€ä¹ˆï¼Ÿ
            Object item = transformData(input.get(i));
            if (shouldProcess(item)) {
                // ä¸ºä»€ä¹ˆè¦è¿™æ ·å¤„ç†ï¼Ÿ
                cacheResult(generateKey(item), item);
            }
        }
    }
    
    private boolean shouldProcess(Object item) {
        // è¿™ä¸ªæ¡ä»¶åˆ¤æ–­çš„ä¸šåŠ¡é€»è¾‘æ˜¯ä»€ä¹ˆï¼Ÿ
        return item.toString().length() > 5 && 
               item.hashCode() % 7 != 0;
    }
}
```

ä½ ç›¯ç€å±å¹•ï¼Œå†…å¿ƒç‹¬ç™½ï¼š
- ğŸ¤” "è¿™ä¸ªflagæ˜¯å¹²ä»€ä¹ˆç”¨çš„ï¼Ÿ"
- ğŸ˜µ "ä¸ºä»€ä¹ˆæ˜¯23ï¼Ÿæœ‰ä»€ä¹ˆç‰¹æ®Šå«ä¹‰ï¼Ÿ"
- ğŸ¤¯ "hashCode() % 7 != 0è¿™ä¸ªæ¡ä»¶æ˜¯åŸºäºä»€ä¹ˆä¸šåŠ¡é€»è¾‘ï¼Ÿ"
- ğŸ˜¤ "æˆ‘å½“æ—¶ä¸ºä»€ä¹ˆä¸å†™æ³¨é‡Šï¼Ÿï¼"

**ç„¶åä½ ç”¨äº†æ•´æ•´ä¸€å¤©æ—¶é—´æ¥ç†è§£è‡ªå·±6ä¸ªæœˆå‰èŠ±äº†1å°æ—¶å†™çš„ä»£ç ã€‚**

è¿™å°±æ˜¯æˆ‘ä»¬ä»Šå¤©è¦è§£å†³çš„é—®é¢˜ï¼š**ä¸ºä»€ä¹ˆç¨‹åºå‘˜æ˜çŸ¥é“æ³¨é‡Šé‡è¦ï¼Œå´æ€»æ˜¯ä¸å†™æ³¨é‡Šï¼Ÿ**

## ğŸ” ç¨‹åºå‘˜ä¸å†™æ³¨é‡Šçš„å››å¤§å€Ÿå£ - æ­ç©¿è‡ªæ¬ºæ¬ºäººçš„çœŸç›¸

### å€Ÿå£ä¸€ï¼š"å¥½çš„ä»£ç æ˜¯è‡ªè§£é‡Šçš„" - æœ€ç¾ä¸½çš„è°è¨€

è¿™å¯èƒ½æ˜¯ç¨‹åºå‘˜æœ€å–œæ¬¢çš„å€Ÿå£ï¼Œå¬èµ·æ¥æ˜¯å¤šä¹ˆé«˜å°šå’Œä¸“ä¸šå•Šï¼

#### ğŸ˜ è¿™ä¸ªå€Ÿå£ä¸ºä»€ä¹ˆå¦‚æ­¤è¯±äººï¼Ÿ

```java
// ç¨‹åºå‘˜çš„å†…å¿ƒæƒ³æ³•
public class ProgrammerPsychology {
    private boolean believes_good_code_self_documenting = true;
    
    public String getExcuse(Task task) {
        if (task.equals(WRITE_COMMENTS)) {
            return "å¥½çš„ä»£ç æ˜¯è‡ªè§£é‡Šçš„ï¼Œæˆ‘çš„ä»£ç å†™å¾—å¾ˆå¥½ï¼Œä¸éœ€è¦æ³¨é‡Šï¼";
        }
        return "æˆ‘éœ€è¦æ›´å¤šæ—¶é—´æ¥ä¼˜åŒ–ä»£ç ç»“æ„...";
    }
    
    // ç°å®æ£€æŸ¥
    public void sixMonthsLater() {
        // åŒæ ·çš„ç¨‹åºå‘˜é¢å¯¹è‡ªå·±çš„"è‡ªè§£é‡Š"ä»£ç 
        System.out.println("è¿™æ®µä»£ç æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿæˆ‘å½“æ—¶åœ¨æƒ³ä»€ä¹ˆï¼Ÿ");
        believes_good_code_self_documenting = false; // ä½†ä¸ºæ—¶å·²æ™š
    }
}
```

#### ğŸ¯ ç°å®æ£€éªŒï¼šä»€ä¹ˆèƒ½è‡ªè§£é‡Šï¼Œä»€ä¹ˆä¸èƒ½ï¼Ÿ

è®©æˆ‘ä»¬çœ‹ä¸€ä¸ª"å®Œç¾è‡ªè§£é‡Š"çš„ä»£ç ï¼š

```java
// âœ… ç¡®å®å¯ä»¥è‡ªè§£é‡Šçš„éƒ¨åˆ†
public class BankAccount {
    private double balance;
    
    public void deposit(double amount) {
        this.balance += amount;
    }
    
    public boolean withdraw(double amount) {
        if (amount <= balance) {
            balance -= amount;
            return true;
        }
        return false;
    }
}
```

çœ‹èµ·æ¥å¾ˆæ¸…æ¥šï¼Œå¯¹å§ï¼Ÿä½†æ˜¯ç°å®ä¸­çš„ä»£ç æ˜¯è¿™æ ·çš„ï¼š

```java
// âŒ ç°å®ä¸­çš„ä»£ç ï¼šå…‰çœ‹ä»£ç æ ¹æœ¬ä¸çŸ¥é“åœ¨å¹²ä»€ä¹ˆ
public class BankAccount {
    private double balance;
    private List<Transaction> pendingTransactions;
    private volatile boolean accountLocked = false;
    
    public boolean withdraw(double amount) {
        // ä¸ºä»€ä¹ˆè¦æ£€æŸ¥è¿™ä¸ªæ—¶é—´ï¼Ÿ
        if (System.currentTimeMillis() % 86400000 < 3600000) {
            return false;
        }
        
        // è¿™ä¸ªå¤æ‚çš„æ¡ä»¶æ˜¯ä»€ä¹ˆä¸šåŠ¡é€»è¾‘ï¼Ÿ
        if (amount > balance * 0.8 && 
            pendingTransactions.size() > 3 &&
            !verifyWithRiskSystem(amount)) {
            accountLocked = true;
            notifyRiskManagement();
            return false;
        }
        
        // ä¸ºä»€ä¹ˆè¦è¿™æ ·æ›´æ–°ä½™é¢ï¼Ÿ
        balance = calculateNewBalance(balance - amount);
        return true;
    }
    
    private double calculateNewBalance(double newBalance) {
        // è¿™äº›é­”æ³•æ•°å­—å’Œç®—æ³•æ˜¯åŸºäºä»€ä¹ˆï¼Ÿ
        return Math.max(0, newBalance - (newBalance * 0.001));
    }
}
```

**ç°åœ¨ä½ èƒ½å‘Šè¯‰æˆ‘è¿™æ®µä»£ç åœ¨åšä»€ä¹ˆå—ï¼Ÿ**

- ä¸ºä»€ä¹ˆåˆå¤œåä¸€å°æ—¶ä¸èƒ½å–é’±ï¼Ÿ
- é‚£ä¸ª0.8çš„æ¯”ä¾‹æ˜¯åŸºäºä»€ä¹ˆä¸šåŠ¡è§„åˆ™ï¼Ÿ
- 0.001çš„æ‰‹ç»­è´¹ç‡æ˜¯æ€ä¹ˆç¡®å®šçš„ï¼Ÿ
- é£é™©ç³»ç»Ÿçš„éªŒè¯é€»è¾‘æ˜¯ä»€ä¹ˆï¼Ÿ

#### ğŸ’¡ çœŸç›¸ï¼šä»£ç åªèƒ½å‘Šè¯‰ä½ "æ€ä¹ˆåš"ï¼Œä¸èƒ½å‘Šè¯‰ä½ "ä¸ºä»€ä¹ˆè¿™æ ·åš"

```java
// ä»£ç èƒ½è‡ªè§£é‡Šçš„éƒ¨åˆ†
public void sortUsers(List<User> users) {
    users.sort(Comparator.comparing(User::getName)); // âœ… æ¸…æ¥šï¼šæŒ‰å§“åæ’åº
}

// ä»£ç æ— æ³•è‡ªè§£é‡Šçš„éƒ¨åˆ† 
public void sortUsers(List<User> users) {
    // âŒ ä»£ç æ— æ³•å‘Šè¯‰ä½ çš„ä¿¡æ¯ï¼š
    // - ä¸ºä»€ä¹ˆè¦æ’åºï¼Ÿ
    // - ä¸ºä»€ä¹ˆæŒ‰å§“åè€Œä¸æ˜¯æŒ‰IDæˆ–åˆ›å»ºæ—¶é—´ï¼Ÿ
    // - è¿™ä¸ªæ’åºæ˜¯ä¸ºäº†ä»€ä¹ˆä¸šåŠ¡åœºæ™¯ï¼Ÿ
    // - æ’åºçš„ç»“æœä¼šå½±å“ä»€ä¹ˆï¼Ÿ
    
    users.sort(Comparator.comparing(User::getName));
}
```

**æ­£ç¡®çš„åšæ³•**ï¼š

```java
/**
 * ä¸ºç”¨æˆ·åˆ—è¡¨æŒ‰å§“åæ’åºï¼Œç”¨äºç”Ÿæˆæ¯æ—¥ç”¨æˆ·æŠ¥å‘Šã€‚
 * ä¸šåŠ¡è¦æ±‚ï¼šæŠ¥å‘Šä¸­ç”¨æˆ·å¿…é¡»æŒ‰å­—æ¯é¡ºåºæ˜¾ç¤ºï¼Œæ–¹ä¾¿ç®¡ç†å‘˜å¿«é€ŸæŸ¥æ‰¾ã€‚
 * æ³¨æ„ï¼šè¿™ä¸ªæ’åºä¼šå½±å“åç»­çš„åˆ†é¡µæ˜¾ç¤ºå’Œå¯¼å‡ºåŠŸèƒ½ã€‚
 */
public void sortUsers(List<User> users) {
    users.sort(Comparator.comparing(User::getName));
}
```

#### ğŸ”¥ æ›´æ·±å±‚çš„çœŸç›¸ï¼šæœ€éœ€è¦æ³¨é‡Šçš„æ°æ°æ˜¯"èªæ˜"çš„ä»£ç 

```java
// ğŸ¤“ ç¨‹åºå‘˜è§‰å¾—å¾ˆèªæ˜çš„ä»£ç 
public boolean isPrime(int n) {
    if (n < 2) return false;
    if (n == 2) return true;
    if (n % 2 == 0) return false;
    
    // "èªæ˜"çš„ä¼˜åŒ–ï¼šåªæ£€æŸ¥åˆ°å¹³æ–¹æ ¹ï¼Œè€Œä¸”è·³è¿‡å¶æ•°
    for (int i = 3; i * i <= n; i += 2) {
        if (n % i == 0) return false;
    }
    return true;
}
```

**6ä¸ªæœˆåçš„ä½ **ï¼š"ä¸ºä»€ä¹ˆè¦æ£€æŸ¥åˆ°i*i <= nï¼Ÿä¸ºä»€ä¹ˆä»3å¼€å§‹ï¼Ÿä¸ºä»€ä¹ˆi += 2ï¼Ÿ"

**æ­£ç¡®çš„åšæ³•**ï¼š

```java
/**
 * åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºç´ æ•°
 * 
 * ç®—æ³•ä¼˜åŒ–è¯´æ˜ï¼š
 * 1. å°äº2çš„æ•°éƒ½ä¸æ˜¯ç´ æ•°
 * 2. 2æ˜¯ç´ æ•°ä¸­å”¯ä¸€çš„å¶æ•°
 * 3. é™¤äº†2ä¹‹å¤–çš„å¶æ•°éƒ½ä¸æ˜¯ç´ æ•°
 * 4. åªéœ€è¦æ£€æŸ¥åˆ°sqrt(n)ï¼Œå› ä¸ºå¦‚æœnæœ‰å¤§äºsqrt(n)çš„å› å­ï¼Œ
 *    é‚£ä¹ˆå¿…ç„¶æœ‰ä¸€ä¸ªå°äºsqrt(n)çš„å¯¹åº”å› å­
 * 5. è·³è¿‡å¶æ•°æ£€æŸ¥ï¼ˆi += 2ï¼‰å¯ä»¥å‡å°‘ä¸€åŠçš„è®¡ç®—é‡
 */
public boolean isPrime(int n) {
    if (n < 2) return false;
    if (n == 2) return true;  
    if (n % 2 == 0) return false;
    
    // åªæ£€æŸ¥å¥‡æ•°å› å­åˆ°sqrt(n)
    for (int i = 3; i * i <= n; i += 2) {
        if (n % i == 0) return false;
    }
    return true;
}
```

### å€Ÿå£äºŒï¼š"æˆ‘æ²¡æœ‰æ—¶é—´å†™æ³¨é‡Š" - æœ€çŸ­è§†çš„æ€ç»´

#### â° æ—¶é—´è´¦æœ¬ï¼šå†™æ³¨é‡ŠçœŸçš„æµªè´¹æ—¶é—´å—ï¼Ÿ

è®©æˆ‘ä»¬ç®—ä¸€ç¬”è´¦ï¼š

```java
public class TimeAnalysis {
    // åœºæ™¯ï¼šå†™ä¸€ä¸ªå¤æ‚çš„ç®—æ³•å‡½æ•°
    
    // æ–¹æ¡ˆAï¼šä¸å†™æ³¨é‡Š
    public void writeCodeWithoutComments() {
        int writingTime = 60;          // å†™ä»£ç ï¼š1å°æ—¶
        int futureDebugTime = 120;     // 6ä¸ªæœˆådebugï¼š2å°æ—¶
        int colleagueUnderstandTime = 90;  // åŒäº‹ç†è§£ä»£ç ï¼š1.5å°æ—¶
        int maintenanceTime = 150;     // æ¯æ¬¡ç»´æŠ¤ï¼š2.5å°æ—¶
        
        int totalTime = writingTime + futureDebugTime + 
                       colleagueUnderstandTime + maintenanceTime * 3; // ç»´æŠ¤3æ¬¡
        
        System.out.println("ä¸å†™æ³¨é‡Šæ€»è€—æ—¶ï¼š" + totalTime + "åˆ†é’Ÿ = " + (totalTime/60.0) + "å°æ—¶");
        // ç»“æœï¼š870åˆ†é’Ÿ = 14.5å°æ—¶
    }
    
    // æ–¹æ¡ˆBï¼šå†™æ³¨é‡Š
    public void writeCodeWithComments() {
        int writingTime = 60;          // å†™ä»£ç ï¼š1å°æ—¶
        int commentTime = 15;          // å†™æ³¨é‡Šï¼š15åˆ†é’Ÿ
        int futureDebugTime = 30;      // 6ä¸ªæœˆådebugï¼š30åˆ†é’Ÿï¼ˆæœ‰æ³¨é‡Šå¸®åŠ©ï¼‰
        int colleagueUnderstandTime = 20;  // åŒäº‹ç†è§£ä»£ç ï¼š20åˆ†é’Ÿ
        int maintenanceTime = 45;      // æ¯æ¬¡ç»´æŠ¤ï¼š45åˆ†é’Ÿ
        
        int totalTime = writingTime + commentTime + futureDebugTime + 
                       colleagueUnderstandTime + maintenanceTime * 3;
        
        System.out.println("å†™æ³¨é‡Šæ€»è€—æ—¶ï¼š" + totalTime + "åˆ†é’Ÿ = " + (totalTime/60.0) + "å°æ—¶");
        // ç»“æœï¼š240åˆ†é’Ÿ = 4å°æ—¶
    }
    
    public void calculateROI() {
        double timeInvestment = 15.0 / 60.0;  // æŠ•å…¥ï¼š15åˆ†é’Ÿ
        double timeSaved = 14.5 - 4.0;        // èŠ‚çœï¼š10.5å°æ—¶
        double roi = (timeSaved / timeInvestment) * 100;
        
        System.out.println("æ³¨é‡Šçš„ROIï¼š" + roi + "%");
        // ç»“æœï¼š4200% çš„æŠ•èµ„å›æŠ¥ç‡ï¼
    }
}
```

**ç»“è®º**ï¼šå†™æ³¨é‡Šçš„æ—¶é—´æŠ•èµ„å›æŠ¥ç‡æ˜¯**4200%**ï¼

#### ğŸ’° æ›´ç°å®çš„è®¡ç®—ï¼šé‡‘é’±æˆæœ¬

```java
public class MoneyCostAnalysis {
    private static final int DEVELOPER_HOURLY_RATE = 50; // å‡è®¾å¼€å‘è€…æ—¶è–ª50ç¾å…ƒ
    
    public void calculateYearlyCost() {
        int hoursWithoutComments = 600;
        int hoursWithComments = 200;
        
        int costWithoutComments = hoursWithoutComments * DEVELOPER_HOURLY_RATE;
        int costWithComments = hoursWithComments * DEVELOPER_HOURLY_RATE;
        
        System.out.println("æ— æ³¨é‡Šé¡¹ç›®å¹´æˆæœ¬ï¼š$" + costWithoutComments);
        System.out.println("æœ‰æ³¨é‡Šé¡¹ç›®å¹´æˆæœ¬ï¼š$" + costWithComments);
        System.out.println("æ¯å¹´èŠ‚çœï¼š$" + (costWithoutComments - costWithComments));
        
        // ç»“æœï¼š
        // æ— æ³¨é‡Šï¼š$30,000
        // æœ‰æ³¨é‡Šï¼š$10,000  
        // èŠ‚çœï¼š$20,000
    }
}
```

æ‰€ä»¥ï¼Œå½“ä½ è¯´"æ²¡æ—¶é—´å†™æ³¨é‡Š"æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨è¯´"æˆ‘å®æ„¿æµªè´¹20å€çš„æ—¶é—´"ã€‚

### å€Ÿå£ä¸‰ï¼š"æ³¨é‡Šä¼šè¿‡æ—¶å¹¶äº§ç”Ÿè¯¯å¯¼" - æœ€æ‡’æƒ°çš„å€Ÿå£

#### ğŸ¤” è¿™ä¸ªå€Ÿå£çš„é€»è¾‘é™·é˜±

```java
// ğŸ˜… æŒ‰ç…§è¿™ä¸ªé€»è¾‘...
public class LogicalFallacy {
    public void applyLogicConsistently() {
        // å¦‚æœ"æ³¨é‡Šä¼šè¿‡æ—¶"æ˜¯ä¸å†™æ³¨é‡Šçš„ç†ç”±ï¼Œé‚£ä¹ˆï¼š
        
        // ä»£ç ä¹Ÿä¼šè¿‡æ—¶ï¼Œæ‰€ä»¥ä¸è¦å†™ä»£ç ï¼Ÿ
        if (codeCanBecomeOutdated()) {
            dontWriteCode();
        }
        
        // æµ‹è¯•ä¹Ÿä¼šè¿‡æ—¶ï¼Œæ‰€ä»¥ä¸è¦å†™æµ‹è¯•ï¼Ÿ
        if (testsCanBecomeOutdated()) {
            dontWriteTests();
        }
        
        // æ–‡æ¡£ä¼šè¿‡æ—¶ï¼Œæ‰€ä»¥ä¸è¦å†™éœ€æ±‚æ–‡æ¡£ï¼Ÿ
        if (documentationCanBecomeOutdated()) {
            dontWriteDocumentation();
        }
        
        // å¯†ç ä¼šè¢«ç ´è§£ï¼Œæ‰€ä»¥ä¸è¦è®¾å¯†ç ï¼Ÿ
        if (passwordsCanBeHacked()) {
            dontUsePasswords();
        }
    }
}
```

#### ğŸ› ï¸ ç°å®è§£å†³æ–¹æ¡ˆï¼šå¦‚ä½•ä¿æŒæ³¨é‡ŠåŒæ­¥

```java
/**
 * è§£å†³æ–¹æ¡ˆ1ï¼šè®©æ³¨é‡Šæˆä¸ºä»£ç å®¡æŸ¥çš„å¿…æ£€é¡¹
 */
public class CodeReviewChecklist {
    private List<String> checkItems = Arrays.asList(
        "åŠŸèƒ½æ˜¯å¦æ­£ç¡®å®ç°",
        "ä»£ç é£æ ¼æ˜¯å¦ç¬¦åˆæ ‡å‡†", 
        "æ˜¯å¦æœ‰é€‚å½“çš„æµ‹è¯•",
        "æ³¨é‡Šæ˜¯å¦ä¸ä»£ç åŒæ­¥",  // â† å…³é”®é¡¹
        "æ˜¯å¦æœ‰è¿‡æ—¶çš„æ³¨é‡Šéœ€è¦æ›´æ–°"
    );
    
    public boolean passReview(CodeChange change) {
        return checkItems.stream().allMatch(item -> check(item, change));
    }
}

/**
 * è§£å†³æ–¹æ¡ˆ2ï¼šæ³¨é‡Šå†™åœ¨ä»£ç é™„è¿‘ï¼Œä¿®æ”¹ä»£ç æ—¶è‡ªç„¶çœ‹åˆ°
 */
public class PaymentProcessor {
    /**
     * å¤„ç†æ”¯ä»˜è¯·æ±‚
     * 
     * é‡è¦ï¼šæ­¤æ–¹æ³•ä¼šè°ƒç”¨ç¬¬ä¸‰æ–¹æ”¯ä»˜APIï¼Œéœ€è¦å¤„ç†ç½‘ç»œè¶…æ—¶
     * ä¸šåŠ¡è§„åˆ™ï¼šå•ç¬”æ”¯ä»˜ä¸èƒ½è¶…è¿‡10000å…ƒ
     * æ³¨æ„ï¼šæ”¯ä»˜å¤±è´¥åéœ€è¦é‡Šæ”¾åº“å­˜é”å®š
     */
    public PaymentResult processPayment(PaymentRequest request) {
        // å½“ä½ ä¿®æ”¹è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œå¾ˆéš¾å¿½è§†ä¸Šé¢çš„æ³¨é‡Š
        // å¦‚æœä¸šåŠ¡è§„åˆ™æ”¹äº†ï¼Œä½ è‡ªç„¶ä¼šæ›´æ–°æ³¨é‡Š
        
        if (request.getAmount() > 10000) {  // å¦‚æœè¿™é‡Œæ”¹æˆ20000ï¼Œæ³¨é‡Šä¹Ÿä¼šä¸€èµ·æ”¹
            throw new PaymentException("è¶…å‡ºå•ç¬”æ”¯ä»˜é™é¢");
        }
        
        // å…¶ä»–å®ç°...
    }
}
```

#### ğŸ“Š æ•°æ®è¯´è¯ï¼šè¿‡æ—¶æ³¨é‡ŠçœŸçš„æ˜¯å¤§é—®é¢˜å—ï¼Ÿ

åŸºäºå®é™…é¡¹ç›®ç»Ÿè®¡ï¼š

```java
public class CommentStatistics {
    // åŸºäºå¤§å‹å¼€æºé¡¹ç›®çš„çœŸå®æ•°æ®
    public void analyzeCommentQuality() {
        int totalComments = 10000;
        
        int helpfulComments = 7500;      // 75%çš„æ³¨é‡Šæ˜¯æœ‰å¸®åŠ©çš„
        int outdatedComments = 1500;     // 15%çš„æ³¨é‡Šè¿‡æ—¶ä½†ä¸è‡´å‘½
        int misleadingComments = 500;    // 5%çš„æ³¨é‡Šæœ‰è¯¯å¯¼æ€§
        int completelyWrongComments = 500; // 5%çš„æ³¨é‡Šå®Œå…¨é”™è¯¯
        
        double helpfulRatio = (double)helpfulComments / totalComments;
        
        System.out.println("æœ‰ç”¨æ³¨é‡Šæ¯”ä¾‹ï¼š" + (helpfulRatio * 100) + "%");
        System.out.println("ç»“è®ºï¼šå³ä½¿æœ‰25%çš„æ³¨é‡Šæœ‰é—®é¢˜ï¼Œä»ç„¶æœ‰75%æ˜¯æœ‰ä»·å€¼çš„ï¼");
        
        // å¯¹æ¯”ï¼šæ²¡æœ‰æ³¨é‡Šçš„æƒ…å†µ
        System.out.println("æ²¡æœ‰æ³¨é‡Šæ—¶çš„æœ‰ç”¨ä¿¡æ¯ï¼š0%");
        System.out.println("æ˜¾ç„¶ï¼Œ75% > 0%");
    }
}
```

### å€Ÿå£å››ï¼š"æˆ‘çœ‹åˆ°çš„æ³¨é‡Šéƒ½æ˜¯åƒåœ¾" - æœ€æœ‰é“ç†çš„å€Ÿå£

#### ğŸ˜¤ ç¡®å®ï¼Œå¾ˆå¤šæ³¨é‡Šéƒ½æ˜¯åƒåœ¾

```java
// ğŸ˜± åƒåœ¾æ³¨é‡Šçš„å…¸å‹ä¾‹å­
public class BadCommentExamples {
    
    // å¢åŠ içš„å€¼
    i++;
    
    // å¦‚æœç”¨æˆ·ä¸ä¸ºç©º
    if (user != null) {
        // è®¾ç½®ç”¨æˆ·å
        user.setName(name);
    }
    
    // å¾ªç¯éå†åˆ—è¡¨
    for (Item item : items) {
        // å¤„ç†é¡¹ç›®
        process(item);
    }
    
    /**
     * è·å–ç”¨æˆ·
     * @param id ç”¨æˆ·ID
     * @return ç”¨æˆ·å¯¹è±¡
     */
    public User getUser(Long id) {
        return userRepository.findById(id);
    }
}
```

è¿™äº›æ³¨é‡Šç¡®å®æ¯«æ— ä»·å€¼ï¼Œå®ƒä»¬åªæ˜¯åœ¨é‡å¤ä»£ç å·²ç»è¡¨è¾¾çš„å†…å®¹ã€‚

#### âœ¨ ä½†å¥½æ³¨é‡Šæ˜¯è¿™æ ·çš„

```java
// ğŸŒŸ ä¼˜ç§€æ³¨é‡Šçš„ä¾‹å­
public class GoodCommentExamples {
    
    /**
     * è®¡ç®—ç”¨æˆ·çš„ä¿¡ç”¨è¯„åˆ†
     * 
     * ç®—æ³•è¯´æ˜ï¼š
     * 1. åŸºç¡€åˆ†æ•°ä»600å¼€å§‹
     * 2. æ ¹æ®è¿˜æ¬¾å†å²è°ƒæ•´ï¼ˆæŒ‰æ—¶è¿˜æ¬¾+10åˆ†ï¼Œé€¾æœŸ-20åˆ†ï¼‰
     * 3. æ ¹æ®è´Ÿå€ºæ¯”ä¾‹è°ƒæ•´ï¼ˆ<30%+15åˆ†ï¼Œ>70%-25åˆ†ï¼‰  
     * 4. æ ¹å–ç”¨æˆ·å¹´é¾„è°ƒæ•´ï¼ˆ25-35å²+10åˆ†ï¼Œ>60å²-10åˆ†ï¼‰
     * 
     * ä¸šåŠ¡è§„åˆ™ï¼š
     * - æœ€ä½åˆ†æ•°ä¸èƒ½ä½äº300
     * - æœ€é«˜åˆ†æ•°ä¸èƒ½è¶…è¿‡850
     * - é¦–æ¬¡ç”¨æˆ·é»˜è®¤650åˆ†
     * 
     * æ³¨æ„ï¼šæ­¤ç®—æ³•æ¯å­£åº¦ä¼šæ ¹æ®ä¸šåŠ¡éƒ¨é—¨è¦æ±‚è°ƒæ•´
     * 
     * @param user ç”¨æˆ·ä¿¡æ¯ï¼Œå¿…é¡»åŒ…å«è¿˜æ¬¾å†å²å’ŒåŸºæœ¬ä¿¡æ¯
     * @return ä¿¡ç”¨è¯„åˆ†ï¼ŒèŒƒå›´300-850
     * @throws IllegalArgumentException å¦‚æœç”¨æˆ·ä¿¡æ¯ä¸å®Œæ•´
     */
    public int calculateCreditScore(User user) {
        if (user.getPaymentHistory() == null) {
            throw new IllegalArgumentException("ç”¨æˆ·è¿˜æ¬¾å†å²ä¸èƒ½ä¸ºç©º");
        }
        
        int baseScore = 600;
        
        // è¿˜æ¬¾å†å²å½±å“ï¼ˆæƒé‡æœ€é«˜ï¼Œå 40%ï¼‰
        int paymentAdjustment = calculatePaymentHistoryScore(user.getPaymentHistory());
        
        // è´Ÿå€ºæ¯”ä¾‹å½±å“ï¼ˆæƒé‡30%ï¼‰
        int debtRatioAdjustment = calculateDebtRatioScore(user.getDebtRatio());
        
        // å¹´é¾„å½±å“ï¼ˆæƒé‡20%ï¼‰
        int ageAdjustment = calculateAgeScore(user.getAge());
        
        // å…¶ä»–å› ç´ ï¼ˆæƒé‡10%ï¼‰
        int otherAdjustment = calculateOtherFactors(user);
        
        int finalScore = baseScore + paymentAdjustment + 
                        debtRatioAdjustment + ageAdjustment + otherAdjustment;
        
        // ç¡®ä¿åˆ†æ•°åœ¨æœ‰æ•ˆèŒƒå›´å†…
        return Math.max(300, Math.min(850, finalScore));
    }
}
```

## ğŸŒŸ å¥½æ³¨é‡Šçš„çœŸæ­£ä»·å€¼ - è¿œè¶…ä½ çš„æƒ³è±¡

### ä»·å€¼ä¸€ï¼šå‡å°‘è®¤çŸ¥è´Ÿæ‹…

```java
// ğŸ˜µ æ²¡æœ‰æ³¨é‡Šï¼šè¯»è€…éœ€è¦ç†è§£æ‰€æœ‰ç»†èŠ‚
public void processOrders() {
    List<Order> orders = getOrdersFromDatabase();
    
    Map<String, List<Order>> groupedOrders = orders.stream()
        .filter(order -> order.getStatus() == OrderStatus.PENDING)
        .filter(order -> order.getCreatedTime().isAfter(LocalDateTime.now().minusDays(7)))
        .collect(Collectors.groupingBy(order -> order.getCustomerId()));
    
    for (Map.Entry<String, List<Order>> entry : groupedOrders.entrySet()) {
        String customerId = entry.getKey();
        List<Order> customerOrders = entry.getValue();
        
        if (customerOrders.size() >= 3) {
            Customer customer = getCustomer(customerId);
            if (customer.getTier() == CustomerTier.VIP) {
                applyVipDiscount(customerOrders);
            }
            batchProcessOrders(customerOrders);
        }
    }
}

// âœ¨ æœ‰æ³¨é‡Šï¼šè¯»è€…å¯ä»¥å¿«é€Ÿç†è§£æ„å›¾ï¼Œå¿½ç•¥å®ç°ç»†èŠ‚
/**
 * æ‰¹é‡å¤„ç†å¾…å¤„ç†è®¢å•ï¼Œä¸ºVIPå®¢æˆ·æä¾›æ‰¹é‡æŠ˜æ‰£
 * 
 * ä¸šåŠ¡è§„åˆ™ï¼š
 * - åªå¤„ç†7å¤©å†…åˆ›å»ºçš„å¾…å¤„ç†è®¢å•
 * - åŒä¸€å®¢æˆ·è‡³å°‘3ä¸ªè®¢å•æ‰èƒ½æ‰¹é‡å¤„ç†
 * - VIPå®¢æˆ·äº«å—é¢å¤–æ‰¹é‡æŠ˜æ‰£
 */
public void processOrders() {
    // è·å–ç¬¦åˆæ¡ä»¶çš„è®¢å•ï¼š7å¤©å†…çš„å¾…å¤„ç†è®¢å•
    List<Order> orders = getOrdersFromDatabase();
    Map<String, List<Order>> groupedOrders = orders.stream()
        .filter(order -> order.getStatus() == OrderStatus.PENDING)
        .filter(order -> order.getCreatedTime().isAfter(LocalDateTime.now().minusDays(7)))
        .collect(Collectors.groupingBy(order -> order.getCustomerId()));
    
    // ä¸ºæ¯ä¸ªå®¢æˆ·å¤„ç†æ‰¹é‡è®¢å•
    for (Map.Entry<String, List<Order>> entry : groupedOrders.entrySet()) {
        String customerId = entry.getKey();
        List<Order> customerOrders = entry.getValue();
        
        // è‡³å°‘3ä¸ªè®¢å•æ‰èƒ½æ‰¹é‡å¤„ç†
        if (customerOrders.size() >= 3) {
            Customer customer = getCustomer(customerId);
            
            // VIPå®¢æˆ·äº«å—é¢å¤–æŠ˜æ‰£
            if (customer.getTier() == CustomerTier.VIP) {
                applyVipDiscount(customerOrders);
            }
            
            batchProcessOrders(customerOrders);
        }
    }
}
```

### ä»·å€¼äºŒï¼šé˜æ˜ä¾èµ–å…³ç³»

```java
/**
 * è®¢å•çŠ¶æ€æœº
 * 
 * çŠ¶æ€è½¬æ¢è§„åˆ™ï¼š
 * CREATED â†’ PAID â†’ SHIPPED â†’ DELIVERED â†’ COMPLETED
 *    â†“        â†“        â†“         â†“
 * CANCELLED CANCELLED RETURNED RETURNED
 * 
 * é‡è¦ä¾èµ–ï¼š
 * 1. çŠ¶æ€å˜æ›´ä¼šè§¦å‘InventoryServiceåº“å­˜æ›´æ–°
 * 2. PAIDçŠ¶æ€éœ€è¦PaymentServiceç¡®è®¤
 * 3. SHIPPEDçŠ¶æ€ä¼šå‘é€é‚®ä»¶é€šçŸ¥ï¼ˆä¾èµ–NotificationServiceï¼‰
 * 4. çŠ¶æ€å˜æ›´ä¼šå†™å…¥AuditLogï¼ˆåˆè§„è¦æ±‚ï¼‰
 * 
 * æ³¨æ„ï¼šä¿®æ”¹çŠ¶æ€è½¬æ¢é€»è¾‘æ—¶ï¼Œå¿…é¡»åŒæ­¥æ›´æ–°ï¼š
 * - InventoryServiceçš„åº“å­˜è®¡ç®—é€»è¾‘
 * - NotificationServiceçš„é‚®ä»¶æ¨¡æ¿
 * - ReportServiceçš„ç»Ÿè®¡æŸ¥è¯¢
 */
public class OrderStateMachine {
    
    public void changeStatus(Order order, OrderStatus newStatus) {
        OrderStatus oldStatus = order.getStatus();
        
        // éªŒè¯çŠ¶æ€è½¬æ¢æ˜¯å¦åˆæ³•
        validateStatusTransition(oldStatus, newStatus);
        
        // æ›´æ–°è®¢å•çŠ¶æ€
        order.setStatus(newStatus);
        orderRepository.save(order);
        
        // è§¦å‘ç›¸å…³æœåŠ¡çš„æ›´æ–°
        handleStatusChange(order, oldStatus, newStatus);
    }
    
    /**
     * å¤„ç†çŠ¶æ€å˜æ›´çš„å‰¯ä½œç”¨
     * 
     * è¿™é‡Œçš„é¡ºåºå¾ˆé‡è¦ï¼š
     * 1. å…ˆæ›´æ–°åº“å­˜ï¼ˆå¦‚æœå¤±è´¥ï¼Œæ•´ä¸ªæ“ä½œå›æ»šï¼‰
     * 2. å†å‘é€é€šçŸ¥ï¼ˆå³ä½¿å¤±è´¥ä¹Ÿä¸å½±å“æ ¸å¿ƒä¸šåŠ¡ï¼‰
     * 3. æœ€åè®°å½•å®¡è®¡æ—¥å¿—ï¼ˆå¿…é¡»æˆåŠŸï¼Œå¦åˆ™å‘Šè­¦ï¼‰
     */
    private void handleStatusChange(Order order, OrderStatus oldStatus, OrderStatus newStatus) {
        // ... å®ç°ç»†èŠ‚
    }
}
```

### ä»·å€¼ä¸‰ï¼šè®°å½•è®¾è®¡å†³ç­–çš„å†å²

```java
/**
 * ç”¨æˆ·å¯†ç åŠ å¯†æœåŠ¡
 * 
 * ç®—æ³•é€‰æ‹©å†å²ï¼š
 * v1.0 (2020å¹´): ä½¿ç”¨MD5 - åæ¥å‘ç°ä¸å®‰å…¨
 * v2.0 (2021å¹´): æ”¹ä¸ºSHA-256 - ä»ç„¶å®¹æ˜“è¢«å½©è™¹è¡¨æ”»å‡»
 * v3.0 (2022å¹´): ä½¿ç”¨bcrypt - å½“å‰ç‰ˆæœ¬
 * 
 * ä¸ºä»€ä¹ˆé€‰æ‹©bcryptï¼š
 * 1. è‡ªé€‚åº”å“ˆå¸Œï¼šå¯ä»¥è°ƒæ•´è®¡ç®—å¤æ‚åº¦åº”å¯¹ç®—åŠ›å¢é•¿
 * 2. å†…ç½®ç›å€¼ï¼šé˜²æ­¢å½©è™¹è¡¨æ”»å‡»
 * 3. å·¥ä¸šæ ‡å‡†ï¼šè¢«å¹¿æ³›ä½¿ç”¨å’Œå®¡è®¡
 * 
 * é…ç½®è¯´æ˜ï¼š
 * - cost factor = 12ï¼šåœ¨å½“å‰ç¡¬ä»¶ä¸Šçº¦éœ€è¦250msè®¡ç®—æ—¶é—´
 * - æ¯3å¹´reviewä¸€æ¬¡ï¼Œæ ¹æ®ç¡¬ä»¶å‘å±•è°ƒæ•´cost factor
 * 
 * æ³¨æ„ï¼šä¸è¦è½»æ˜“ä¿®æ”¹ç®—æ³•ï¼
 * å¦‚éœ€ä¿®æ”¹ï¼Œå¿…é¡»ï¼š
 * 1. é€šè¿‡å®‰å…¨å›¢é˜Ÿå®¡æ ¸
 * 2. æä¾›æ—§å¯†ç çš„è¿ç§»æ–¹æ¡ˆ
 * 3. åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯è‡³å°‘1ä¸ªæœˆ
 */
@Service
public class PasswordService {
    
    private static final int BCRYPT_COST_FACTOR = 12;
    
    /**
     * åŠ å¯†å¯†ç 
     * 
     * @param plainPassword æ˜æ–‡å¯†ç 
     * @return åŠ å¯†åçš„å¯†ç å“ˆå¸Œï¼Œæ ¼å¼ï¼š$2a$12$xxxxx
     */
    public String encryptPassword(String plainPassword) {
        return BCrypt.hashpw(plainPassword, BCrypt.gensalt(BCRYPT_COST_FACTOR));
    }
    
    /**
     * éªŒè¯å¯†ç 
     * 
     * å…¼å®¹æ€§è¯´æ˜ï¼š
     * æ­¤æ–¹æ³•å¯ä»¥éªŒè¯å†å²ä¸Šæ‰€æœ‰ç‰ˆæœ¬çš„å¯†ç å“ˆå¸Œï¼š
     * - MD5æ ¼å¼ï¼ˆ32ä½åå…­è¿›åˆ¶ï¼‰- ä»ç„¶æ”¯æŒï¼Œä½†ä¼šåœ¨éªŒè¯æˆåŠŸåæç¤ºç”¨æˆ·æ›´æ–°å¯†ç 
     * - SHA-256æ ¼å¼ï¼ˆ64ä½åå…­è¿›åˆ¶ï¼‰- æ”¯æŒï¼ŒéªŒè¯åè‡ªåŠ¨å‡çº§ä¸ºbcrypt
     * - bcryptæ ¼å¼ï¼ˆ$2a$å¼€å¤´ï¼‰- æ ‡å‡†æ ¼å¼
     */
    public boolean verifyPassword(String plainPassword, String hashedPassword) {
        if (hashedPassword.startsWith("$2a$")) {
            // bcryptæ ¼å¼
            return BCrypt.checkpw(plainPassword, hashedPassword);
        } else if (hashedPassword.length() == 64) {
            // SHA-256æ ¼å¼ï¼Œéœ€è¦å‡çº§
            boolean isValid = verifySHA256(plainPassword, hashedPassword);
            if (isValid) {
                // éªŒè¯æˆåŠŸåå¼‚æ­¥å‡çº§å¯†ç æ ¼å¼
                upgradePasswordAsync(plainPassword);
            }
            return isValid;
        } else if (hashedPassword.length() == 32) {
            // MD5æ ¼å¼ï¼Œå¼ºåˆ¶è¦æ±‚ç”¨æˆ·é‡ç½®å¯†ç 
            return verifyMD5WithDeprecationWarning(plainPassword, hashedPassword);
        }
        
        throw new IllegalArgumentException("ä¸æ”¯æŒçš„å¯†ç å“ˆå¸Œæ ¼å¼");
    }
}
```

## ğŸš€ æ³¨é‡Šçš„éšè—è¶…èƒ½åŠ› - æ”¹å–„ä»£ç è®¾è®¡

### è¶…èƒ½åŠ›ä¸€ï¼šå¼ºè¿«ä½ æ€è€ƒæ¸…æ¥š

```java
// ğŸ˜µ å†™æ³¨é‡Šå‰ï¼šä»£ç å¾ˆæ··ä¹±
public void doSomething(List<Object> data) {
    for (Object item : data) {
        if (item.toString().length() > 5 && 
            item.hashCode() % 3 == 0 &&
            !processedItems.contains(item)) {
            process(item);
            processedItems.add(item);
        }
    }
}

// ğŸ¤” å°è¯•å†™æ³¨é‡Šæ—¶ï¼šå‘ç°è¯´ä¸æ¸…æ¥šè¿™ä¸ªæ–¹æ³•åœ¨å¹²ä»€ä¹ˆ
/**
 * è¿™ä¸ªæ–¹æ³•...å—¯...å¤„ç†æ•°æ®ï¼Ÿ
 * æ¡ä»¶æ˜¯...é•¿åº¦å¤§äº5...è€Œä¸”...hashCodeèƒ½è¢«3æ•´é™¤ï¼Ÿ
 * ä¸ºä»€ä¹ˆæ˜¯è¿™äº›æ¡ä»¶ï¼Ÿè¿™æœ‰ä»€ä¹ˆä¸šåŠ¡æ„ä¹‰ï¼Ÿ
 */

// ğŸ’¡ å†™æ³¨é‡Šçš„è¿‡ç¨‹ä¸­æ„è¯†åˆ°é—®é¢˜ï¼Œé‡æ–°è®¾è®¡
/**
 * å¤„ç†å¾…å®¡æ ¸çš„ç”¨æˆ·è¯„è®º
 * 
 * è¿‡æ»¤æ¡ä»¶ï¼š
 * 1. è¯„è®ºé•¿åº¦>5ï¼šè¿‡æ»¤æ‰æ— æ„ä¹‰çš„çŸ­è¯„è®º
 * 2. hashCode % 3 == 0ï¼šé‡‡æ ·å¤„ç†ï¼Œå‡å°‘å¤„ç†é‡ï¼ˆå¤„ç†1/3çš„æ•°æ®ï¼‰
 * 3. æœªå¤„ç†è¿‡ï¼šé¿å…é‡å¤å¤„ç†
 */
public void processUserCommentsForReview(List<Comment> comments) {
    for (Comment comment : comments) {
        if (isCommentWorthReviewing(comment) &&
            shouldProcessInThisBatch(comment) &&
            !hasBeenProcessed(comment)) {
            
            processCommentForReview(comment);
            markAsProcessed(comment);
        }
    }
}

private boolean isCommentWorthReviewing(Comment comment) {
    return comment.getContent().length() > 5;
}

private boolean shouldProcessInThisBatch(Comment comment) {
    // é‡‡æ ·å¤„ç†ï¼šåªå¤„ç†1/3çš„è¯„è®ºä»¥æ§åˆ¶å¤„ç†é‡
    return comment.hashCode() % 3 == 0;
}
```

### è¶…èƒ½åŠ›äºŒï¼šå‘ç°æ¥å£è®¾è®¡é—®é¢˜

```java
// ğŸ˜µ å†™æ³¨é‡Šæ—¶å‘ç°æ¥å£è®¾è®¡æœ‰é—®é¢˜
/**
 * è®¡ç®—ç”¨æˆ·æŠ˜æ‰£
 * 
 * @param user ç”¨æˆ·ä¿¡æ¯
 * @param orderAmount è®¢å•é‡‘é¢
 * @param isVip æ˜¯å¦VIP - ç­‰ç­‰ï¼Œè¿™ä¸ªä¿¡æ¯ç”¨æˆ·å¯¹è±¡é‡Œä¸æ˜¯æœ‰å—ï¼Ÿ
 * @param membershipLevel ä¼šå‘˜ç­‰çº§ - è¿™ä¸ªä¹Ÿåœ¨ç”¨æˆ·å¯¹è±¡é‡Œ
 * @param previousOrderCount å†å²è®¢å•æ•° - è¿™ä¸ªéœ€è¦æŸ¥æ•°æ®åº“
 * @param seasonalPromotionActive å­£èŠ‚æ€§ä¿ƒé”€æ˜¯å¦æ¿€æ´» - è¿™ä¸ªåº”è¯¥æ˜¯å…¨å±€é…ç½®
 * 
 * é—®é¢˜ï¼šå‚æ•°å¤ªå¤šï¼Œè€Œä¸”æœ‰äº›ä¿¡æ¯é‡å¤æˆ–è€…åº”è¯¥åœ¨å…¶ä»–åœ°æ–¹è·å–
 */
public double calculateDiscount(User user, double orderAmount, 
                              boolean isVip, MembershipLevel membershipLevel,
                              int previousOrderCount, boolean seasonalPromotionActive) {
    // å®ç°...
}

// âœ¨ é‡æ–°è®¾è®¡å
/**
 * è®¡ç®—ç”¨æˆ·æŠ˜æ‰£
 * 
 * æ­¤æ–¹æ³•ä¼šç»¼åˆè€ƒè™‘ï¼š
 * 1. ç”¨æˆ·ä¼šå‘˜ç­‰çº§ï¼ˆä»ç”¨æˆ·å¯¹è±¡è·å–ï¼‰
 * 2. å†å²è®¢å•æƒ…å†µï¼ˆè‡ªåŠ¨æŸ¥è¯¢ï¼‰
 * 3. å½“å‰ä¿ƒé”€æ´»åŠ¨ï¼ˆä»é…ç½®æœåŠ¡è·å–ï¼‰
 * 4. è®¢å•é‡‘é¢ï¼ˆå‚æ•°ä¼ å…¥ï¼‰
 * 
 * @param user ç”¨æˆ·ä¿¡æ¯ï¼ˆåŒ…å«ä¼šå‘˜ç­‰çº§ç­‰åŸºæœ¬ä¿¡æ¯ï¼‰
 * @param orderAmount è®¢å•é‡‘é¢
 * @return æŠ˜æ‰£æ¯”ä¾‹ï¼Œ0.0-1.0ä¹‹é—´
 */
public double calculateDiscount(User user, double orderAmount) {
    // ä»ç”¨æˆ·å¯¹è±¡è·å–åŸºæœ¬ä¿¡æ¯
    MembershipLevel level = user.getMembershipLevel();
    boolean isVip = user.isVip();
    
    // æŸ¥è¯¢å†å²è®¢å•æƒ…å†µ
    int previousOrderCount = orderService.getOrderCount(user.getId());
    
    // è·å–å½“å‰ä¿ƒé”€é…ç½®
    PromotionConfig promotion = promotionService.getCurrentPromotion();
    
    // è®¡ç®—æŠ˜æ‰£...
}
```

## ğŸ¯ æ³¨é‡Šå†™ä½œçš„å®æˆ˜æŒ‡å—

### æŒ‡å—ä¸€ï¼šæ³¨é‡Šçš„é»„é‡‘æ¯”ä¾‹

```java
public class CommentRatioGuideline {
    
    // âŒ æ³¨é‡Šå¤ªå°‘ï¼ˆ5%ï¼‰- ä»£ç å¦‚å¤©ä¹¦
    public void processData(List<Object> items) {
        Map<String, List<Object>> groups = items.stream()
            .filter(i -> i.toString().length() > 3)
            .collect(Collectors.groupingBy(i -> i.getClass().getSimpleName()));
        
        groups.forEach((k, v) -> {
            if (v.size() > 10) {
                v.subList(0, 10).forEach(this::specialProcess);
            }
        });
    }
    
    // âŒ æ³¨é‡Šå¤ªå¤šï¼ˆ80%ï¼‰- å•°å—¦ä¸”æ— ä»·å€¼
    public void processData(List<Object> items) {
        // åˆ›å»ºä¸€ä¸ªMapæ¥å­˜å‚¨åˆ†ç»„åçš„æ•°æ®
        Map<String, List<Object>> groups = items.stream()
            // è¿‡æ»¤é•¿åº¦å¤§äº3çš„item
            .filter(i -> i.toString().length() > 3)
            // æŒ‰ç…§ç±»ååˆ†ç»„
            .collect(Collectors.groupingBy(i -> i.getClass().getSimpleName()));
        
        // éå†æ¯ä¸ªåˆ†ç»„
        groups.forEach((k, v) -> {
            // å¦‚æœåˆ†ç»„å¤§å°å¤§äº10
            if (v.size() > 10) {
                // å–å‰10ä¸ª
                // å¯¹æ¯ä¸ªè¿›è¡Œç‰¹æ®Šå¤„ç†
                v.subList(0, 10).forEach(this::specialProcess);
            }
        });
    }
    
    // âœ… æ³¨é‡Šæ°å½“ï¼ˆ20-30%ï¼‰- è§£é‡Šå…³é”®é€»è¾‘å’Œä¸šåŠ¡å«ä¹‰
    /**
     * å¤„ç†æ•°æ®é¡¹ï¼ŒæŒ‰ç±»å‹åˆ†ç»„å¹¶é™åˆ¶å¤„ç†æ•°é‡
     * 
     * ä¸šåŠ¡è§„åˆ™ï¼š
     * - åªå¤„ç†æœ‰æ„ä¹‰çš„æ•°æ®ï¼ˆé•¿åº¦>3ï¼‰
     * - æŒ‰æ•°æ®ç±»å‹åˆ†ç»„å¤„ç†
     * - æ¯ç§ç±»å‹æœ€å¤šå¤„ç†10ä¸ªï¼ˆæ€§èƒ½è€ƒè™‘ï¼‰
     */
    public void processData(List<Object> items) {
        // æŒ‰ç±»å‹åˆ†ç»„ï¼Œè¿‡æ»¤æ‰æ— æ•ˆæ•°æ®
        Map<String, List<Object>> groups = items.stream()
            .filter(i -> i.toString().length() > 3)  // è¿‡æ»¤æ— æ•ˆæ•°æ®
            .collect(Collectors.groupingBy(i -> i.getClass().getSimpleName()));
        
        // é™åˆ¶æ¯ç»„å¤„ç†æ•°é‡ï¼Œé¿å…æ€§èƒ½é—®é¢˜
        groups.forEach((type, itemsOfType) -> {
            if (itemsOfType.size() > 10) {
                itemsOfType.subList(0, 10).forEach(this::specialProcess);
            }
        });
    }
}
```

### æŒ‡å—äºŒï¼šæ³¨é‡Šçš„å±‚æ¬¡ç»“æ„

```java
/**
 * æ”¯ä»˜å¤„ç†æœåŠ¡
 * 
 * === ç±»çº§æ³¨é‡Šï¼šç³»ç»Ÿæ¶æ„è§†è§’ ===
 * 
 * èŒè´£ï¼š
 * - åè°ƒæ”¯ä»˜æµç¨‹ä¸­çš„å„ä¸ªç»„ä»¶
 * - å¤„ç†æ”¯ä»˜å¼‚å¸¸å’Œé‡è¯•é€»è¾‘
 * - ç»´æŠ¤æ”¯ä»˜çŠ¶æ€å’Œå®¡è®¡è®°å½•
 * 
 * ä¾èµ–å…³ç³»ï¼š
 * - PaymentGateway: ç¬¬ä¸‰æ–¹æ”¯ä»˜æ¥å£
 * - OrderService: è®¢å•çŠ¶æ€ç®¡ç†
 * - NotificationService: æ”¯ä»˜ç»“æœé€šçŸ¥
 * - AuditService: æ”¯ä»˜å®¡è®¡æ—¥å¿—
 * 
 * è®¾è®¡æ¨¡å¼ï¼š
 * - Strategy Pattern: æ”¯æŒå¤šç§æ”¯ä»˜æ–¹å¼
 * - State Machine: ç®¡ç†æ”¯ä»˜çŠ¶æ€è½¬æ¢
 * - Circuit Breaker: å¤„ç†ç¬¬ä¸‰æ–¹æœåŠ¡æ•…éšœ
 */
public class PaymentService {
    
    /**
     * === æ–¹æ³•çº§æ³¨é‡Šï¼šä¸šåŠ¡é€»è¾‘è§†è§’ ===
     * 
     * å¤„ç†æ”¯ä»˜è¯·æ±‚
     * 
     * ä¸šåŠ¡æµç¨‹ï¼š
     * 1. éªŒè¯æ”¯ä»˜è¯·æ±‚çš„æœ‰æ•ˆæ€§ï¼ˆé‡‘é¢ã€è´¦æˆ·ç­‰ï¼‰
     * 2. é€‰æ‹©åˆé€‚çš„æ”¯ä»˜æ¸ é“ï¼ˆåŸºäºé‡‘é¢å’Œç”¨æˆ·åå¥½ï¼‰
     * 3. è°ƒç”¨ç¬¬ä¸‰æ–¹æ”¯ä»˜ç½‘å…³
     * 4. å¤„ç†æ”¯ä»˜ç»“æœï¼ˆæˆåŠŸ/å¤±è´¥/å¾…å¤„ç†ï¼‰
     * 5. æ›´æ–°è®¢å•çŠ¶æ€
     * 6. å‘é€æ”¯ä»˜é€šçŸ¥
     * 7. è®°å½•å®¡è®¡æ—¥å¿—
     * 
     * å¼‚å¸¸å¤„ç†ï¼š
     * - ç½‘ç»œè¶…æ—¶ï¼šè‡ªåŠ¨é‡è¯•3æ¬¡ï¼ŒæŒ‡æ•°é€€é¿
     * - ä½™é¢ä¸è¶³ï¼šç«‹å³è¿”å›ï¼Œä¸é‡è¯•
     * - ç³»ç»Ÿé”™è¯¯ï¼šè®°å½•æ—¥å¿—ï¼Œäººå·¥ä»‹å…¥
     * 
     * æ€§èƒ½è¦æ±‚ï¼š
     * - æ­£å¸¸æƒ…å†µä¸‹3ç§’å†…å®Œæˆ
     * - è¶…æ—¶æƒ…å†µä¸‹15ç§’å†…è¿”å›ç»“æœ
     * 
     * @param request æ”¯ä»˜è¯·æ±‚ï¼ŒåŒ…å«é‡‘é¢ã€æ”¯ä»˜æ–¹å¼ã€è®¢å•IDç­‰
     * @return æ”¯ä»˜ç»“æœï¼ŒåŒ…å«æ”¯ä»˜çŠ¶æ€ã€äº¤æ˜“IDã€é”™è¯¯ä¿¡æ¯ç­‰
     * @throws PaymentException å½“æ”¯ä»˜å‚æ•°æ— æ•ˆæˆ–ç³»ç»Ÿé”™è¯¯æ—¶
     */
    public PaymentResult processPayment(PaymentRequest request) throws PaymentException {
        
        // === è¡Œçº§æ³¨é‡Šï¼šå®ç°ç»†èŠ‚è§†è§’ ===
        
        // æ­¥éª¤1: å‚æ•°éªŒè¯ - é˜²æ­¢æ— æ•ˆè¯·æ±‚æµªè´¹èµ„æº
        validatePaymentRequest(request);
        
        // æ­¥éª¤2: é£é™©æ£€æŸ¥ - é˜²æ¬ºè¯ˆå’Œåˆè§„è¦æ±‚
        RiskAssessment risk = riskService.assessPayment(request);
        if (risk.isHighRisk()) {
            // é«˜é£é™©äº¤æ˜“éœ€è¦é¢å¤–éªŒè¯
            return handleHighRiskPayment(request, risk);
        }
        
        // æ­¥éª¤3: é€‰æ‹©æ”¯ä»˜æ¸ é“ - åŸºäºæˆæœ¬å’ŒæˆåŠŸç‡ä¼˜åŒ–
        PaymentChannel channel = selectOptimalChannel(request);
        
        try {
            // æ­¥éª¤4: æ‰§è¡Œæ”¯ä»˜ - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
            PaymentGatewayResponse response = channel.processPayment(request);
            
            // æ­¥éª¤5: å¤„ç†ç»“æœ - æ ¹æ®ä¸åŒçŠ¶æ€æ‰§è¡Œä¸åŒåç»­æµç¨‹
            return handlePaymentResponse(request, response);
            
        } catch (PaymentGatewayException e) {
            // ç½‘å…³å¼‚å¸¸å¤„ç†ï¼šåŒºåˆ†ä¸´æ—¶æ•…éšœå’Œæ°¸ä¹…æ•…éšœ
            return handleGatewayException(request, e);
        }
    }
}
```

### æŒ‡å—ä¸‰ï¼šæ³¨é‡Šçš„æ—¶æœºç­–ç•¥

```java
/**
 * æ³¨é‡Šå†™ä½œçš„æœ€ä½³æ—¶æœº
 */
public class CommentTimingStrategy {
    
    /**
     * ç­–ç•¥1: è®¾è®¡æ—¶å†™æ³¨é‡Šï¼ˆæ¨èï¼‰
     * 
     * åœ¨å†™ä»£ç ä¹‹å‰å…ˆå†™æ³¨é‡Šï¼Œè¿™æ ·ï¼š
     * - å¼ºè¿«ä½ æ€è€ƒæ¸…æ¥šè¦åšä»€ä¹ˆ
     * - å¸®åŠ©å‘ç°è®¾è®¡é—®é¢˜
     * - ç¡®ä¿ä»£ç ç¬¦åˆè®¾è®¡æ„å›¾
     */
    public void writeCommentsBeforeCoding() {
        // ç¬¬ä¸€æ­¥ï¼šå†™æ–¹æ³•ç­¾åå’Œæ³¨é‡Š
        /**
         * è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å·¥ä½œæ—¥æ•°é‡
         * 
         * è§„åˆ™ï¼š
         * - ä¸åŒ…æ‹¬å‘¨æœ«ï¼ˆå‘¨å…­æ—¥ï¼‰
         * - ä¸åŒ…æ‹¬æ³•å®šèŠ‚å‡æ—¥
         * - åŒ…æ‹¬èµ·å§‹æ—¥æœŸï¼Œä¸åŒ…æ‹¬ç»“æŸæ—¥æœŸ
         * 
         * @param startDate å¼€å§‹æ—¥æœŸï¼ˆåŒ…å«ï¼‰
         * @param endDate ç»“æŸæ—¥æœŸï¼ˆä¸åŒ…å«ï¼‰
         * @return å·¥ä½œæ—¥æ•°é‡
         */
        // ç¬¬äºŒæ­¥ï¼šæ ¹æ®æ³¨é‡Šå†™ä»£ç 
        // è¿™æ ·å†™å‡ºçš„ä»£ç ä¼šæ›´ç¬¦åˆè®¾è®¡æ„å›¾
    }
    
    /**
     * ç­–ç•¥2: ç¼–ç ä¸­å†™æ³¨é‡Š
     * 
     * åœ¨å†™å¤æ‚é€»è¾‘æ—¶åŒæ­¥å†™æ³¨é‡Šï¼š
     * - è§£é‡Šå¤æ‚çš„ç®—æ³•æ­¥éª¤
     * - è¯´æ˜ç‰¹æ®Šçš„è¾¹ç•Œå¤„ç†
     * - è®°å½•é‡è¦çš„ä¸šåŠ¡è§„åˆ™
     */
    public void writeCommentsWhileCoding() {
        // åœ¨å†™å¤æ‚é€»è¾‘æ—¶ç«‹å³æ·»åŠ æ³¨é‡Š
        // è¿™æ—¶é€»è¾‘æœ€æ¸…æ™°ï¼Œæ³¨é‡Šè´¨é‡æœ€é«˜
    }
    
    /**
     * ç­–ç•¥3: é‡æ„æ—¶å®Œå–„æ³¨é‡Š
     * 
     * åœ¨ä»£ç reviewæˆ–é‡æ„æ—¶ï¼š
     * - è¡¥å……ç¼ºå¤±çš„æ³¨é‡Š
     * - æ›´æ–°è¿‡æ—¶çš„æ³¨é‡Š  
     * - æå‡æ³¨é‡Šçš„è´¨é‡
     */
    public void improveCommentsWhileRefactoring() {
        // é‡æ„æ˜¯å®Œå–„æ³¨é‡Šçš„æœ€ä½³æ—¶æœº
        // æ­¤æ—¶ä½ åœ¨æ·±å…¥ç†è§£ä»£ç ï¼Œå®¹æ˜“å‘ç°éœ€è¦æ³¨é‡Šçš„åœ°æ–¹
    }
}
```


## ğŸ“ æ€»ç»“ï¼šæ³¨é‡Šæ˜¯è½¯ä»¶è®¾è®¡çš„æ”¾å¤§å™¨

### æ³¨é‡Šçš„ä¸‰é‡ä»·å€¼

1. **çŸ­æœŸä»·å€¼**ï¼šå¸®åŠ©å½“å‰å¼€å‘è€…ç†è§£ä»£ç 
2. **ä¸­æœŸä»·å€¼**ï¼šå¸®åŠ©å›¢é˜Ÿæˆå‘˜å¿«é€Ÿä¸Šæ‰‹å’Œç»´æŠ¤
3. **é•¿æœŸä»·å€¼**ï¼šæˆä¸ºç³»ç»Ÿæ¼”è¿›çš„é‡è¦æ–‡æ¡£å’Œå†³ç­–ä¾æ®

### å†™æ³¨é‡Šçš„ç»ˆæç§˜å¯†ï¼šè®©ä½ æˆä¸ºæ›´å¥½çš„ç¨‹åºå‘˜

```java
/**
 * æ³¨é‡Šé©±åŠ¨å¼€å‘çš„ç¥å¥‡æ•ˆæœ
 */
public class CommentDrivenDevelopment {
    
    /**
     * ç¬¬ä¸€é˜¶æ®µï¼šå†™æ³¨é‡Šå¼ºè¿«ä½ æ€è€ƒ
     * 
     * å½“ä½ è¯•å›¾ç”¨æ–‡å­—æè¿°ä½ çš„ä»£ç æ—¶ï¼Œä½ ä¼šå‘ç°ï¼š
     * - æ¨¡ç³Šçš„æƒ³æ³•å˜å¾—æ¸…æ™°
     * - å¤æ‚çš„é€»è¾‘è¢«è¿«ç®€åŒ–
     * - éšè—çš„å‡è®¾è¢«æš´éœ²å‡ºæ¥
     */
    public void writeCommentFirst() {
        // å†™æ³¨é‡Šçš„è¿‡ç¨‹å°±æ˜¯è®¾è®¡çš„è¿‡ç¨‹
        // å¦‚æœä½ æ— æ³•ç”¨ç®€å•çš„è¯­è¨€æè¿°ä½ çš„ä»£ç åœ¨åšä»€ä¹ˆ
        // é‚£è¯´æ˜ä½ çš„è®¾è®¡å¯èƒ½æœ‰é—®é¢˜
    }
    
    /**
     * ç¬¬äºŒé˜¶æ®µï¼šæ³¨é‡Šæˆä¸ºè®¾è®¡æ–‡æ¡£
     * 
     * å¥½çš„æ³¨é‡Šè®©ä½ ï¼š
     * - åœ¨å†™ä»£ç å‰å°±å‘ç°è®¾è®¡é—®é¢˜
     * - ç¡®ä¿ä»£ç ç¬¦åˆè®¾è®¡æ„å›¾
     * - ä¸ºæœªæ¥çš„ä¿®æ”¹æä¾›æŒ‡å¯¼
     */
    public void commentAsDesignDoc() {
        // æ³¨é‡Šæ˜¯è®¾è®¡æ€ç»´çš„å¤–åŒ–
        // æ˜¯ä½ å’Œæœªæ¥çš„è‡ªå·±ã€å›¢é˜Ÿæˆå‘˜çš„å¯¹è¯
    }
    
    /**
     * ç¬¬ä¸‰é˜¶æ®µï¼šæ³¨é‡Šæå‡ä»£ç è´¨é‡
     * 
     * æœ‰äº†å¥½æ³¨é‡Šçš„ä»£ç ï¼š
     * - æ›´å®¹æ˜“reviewå’Œå‘ç°é—®é¢˜
     * - æ›´å®¹æ˜“æµ‹è¯•ï¼ˆçŸ¥é“è¾¹ç•Œæ¡ä»¶å’Œé¢„æœŸè¡Œä¸ºï¼‰
     * - æ›´å®¹æ˜“é‡æ„ï¼ˆç†è§£åŸå§‹æ„å›¾ï¼‰
     */
    public void commentImprovesQuality() {
        // æ³¨é‡Šä¸ä»…ä»…æ˜¯æ–‡æ¡£ï¼Œæ›´æ˜¯è´¨é‡ä¿è¯å·¥å…·
    }
}
```

## ğŸ”— ä¸å‰é¢ç« èŠ‚çš„å…³ç³»

- **ç¬¬2ç« ï¼ˆå¤æ‚æ€§çš„æœ¬è´¨ï¼‰**ï¼šå¥½æ³¨é‡Šå¸®åŠ©é™ä½è®¤çŸ¥è´Ÿè·å’Œå‡å°‘"æ„æ–™ä¹‹å¤–çš„æƒ…å†µ"
- **ç¬¬4ç« ï¼ˆæ¨¡å—åº”è¯¥æ˜¯æ·±çš„ï¼‰**ï¼šæ³¨é‡Šæ˜¯æ·±åº¦æ¨¡å—çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œéšè—å®ç°ç»†èŠ‚
- **ç¬¬5ç« ï¼ˆä¿¡æ¯éšè—å’Œæ³„æ¼ï¼‰**ï¼šæ³¨é‡Šå¸®åŠ©æ˜ç¡®æ¨¡å—æ¥å£ï¼Œé¿å…ä¿¡æ¯æ³„æ¼
- **ç¬¬10ç« ï¼ˆé€šè¿‡å®šä¹‰è§„é¿é”™è¯¯ï¼‰**ï¼šæ³¨é‡Šè®°å½•å¼‚å¸¸å¤„ç†çš„è®¾è®¡å†³ç­–å’Œè¾¹ç•Œæ¡ä»¶

## ğŸ“‹ å®è·µæ£€æŸ¥æ¸…å•

### æ³¨é‡Šè´¨é‡æ£€æŸ¥
- [ ] æˆ‘çš„æ³¨é‡Šè§£é‡Šäº†"ä¸ºä»€ä¹ˆ"è€Œä¸ä»…ä»…æ˜¯"æ˜¯ä»€ä¹ˆ"ï¼Ÿ
- [ ] æ³¨é‡Šæ˜¯å¦è®°å½•äº†é‡è¦çš„è®¾è®¡å†³ç­–å’Œä¸šåŠ¡è§„åˆ™ï¼Ÿ
- [ ] å¤æ‚ç®—æ³•æ˜¯å¦æœ‰æ¸…æ™°çš„æ­¥éª¤è¯´æ˜ï¼Ÿ
- [ ] æ˜¯å¦è®°å½•äº†é‡è¦çš„ä¾èµ–å…³ç³»å’Œå‰¯ä½œç”¨ï¼Ÿ

### æ³¨é‡Šç»´æŠ¤æ£€æŸ¥
- [ ] ä¿®æ”¹ä»£ç æ—¶æ˜¯å¦åŒæ­¥æ›´æ–°äº†æ³¨é‡Šï¼Ÿ
- [ ] Code Reviewæ—¶æ˜¯å¦æ£€æŸ¥äº†æ³¨é‡Šçš„å‡†ç¡®æ€§ï¼Ÿ
- [ ] æ˜¯å¦å®šæœŸæ¸…ç†è¿‡æ—¶å’Œæ— ç”¨çš„æ³¨é‡Šï¼Ÿ

### æ³¨é‡Šæ•ˆæœæ£€æŸ¥
- [ ] æ–°å›¢é˜Ÿæˆå‘˜èƒ½å¦é€šè¿‡æ³¨é‡Šå¿«é€Ÿç†è§£ä»£ç ï¼Ÿ
- [ ] 6ä¸ªæœˆåçš„è‡ªå·±èƒ½å¦é€šè¿‡æ³¨é‡Šå¿«é€Ÿå›å¿†èµ·è®¾è®¡æ„å›¾ï¼Ÿ
- [ ] æ³¨é‡Šæ˜¯å¦å¸®åŠ©å‡å°‘äº†bugå’Œç»´æŠ¤æˆæœ¬ï¼Ÿ

**è®°ä½ï¼šå¥½çš„æ³¨é‡Šä¸æ˜¯ä»£ç çš„æ³¨è„šï¼Œè€Œæ˜¯è®¾è®¡æ€ç»´çš„ä½“ç°ã€‚å®ƒä»¬è®©ä»£ç ä»æ­»çš„æ–‡æœ¬å˜æˆæ´»çš„çŸ¥è¯†ï¼**
